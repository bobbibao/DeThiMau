<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giai Thi Mau Cuoi Ki</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script src="../js/jquery-3.6.4.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
</head>
<style>
    .img{
        background-image: url(../img/background.jpeg);
        background-repeat: repeat;
        background-size: auto;
        height: 250px;
        width: 100%;

    }
    .display-4{
        background-color: aquamarine;
    }
    .modal-dialog{
        max-width: 800px;
    }
    #btnModal:active{
        color: rgb(18, 45, 45);
    }
    label:not(:has(input)){
        font-weight: bold;
    }
</style>
<script>
    i = 1;
    $(document).ready(function(){
        $("#btnModal").click(() => {
            $("#myModal").modal();
        })
    })
    $(document).ready(function(){
      $("#myModal form").submit(function(event) {
        event.preventDefault(); // Ngăn chặn việc submit form
    
        var formData = $(this).serialize(); // Lấy giá trị của form
    
        var dataObj = {}; // Tạo đối tượng JSON
    
        formData.split('&').forEach(function(keyValue) { // Tách giá trị thành các cặp key-value
          var pair = keyValue.split('=');
          dataObj[pair[0]] = decodeURIComponent(pair[1] || ''); // Thêm key-value vào đối tượng JSON
        });
    
        var newRow = '<tr>' + 
                       '<td>' + ++i + '</td>' +
                       '<td>' + dataObj['txtMa'] + '</td>' +
                       '<td>' + dataObj['txtMK'] + '</td>' +
                       '<td>' + dataObj['date'] + '</td>' +
                       '<td>200000</td>' +
                       '<td>' + $('#sel1 option:selected').text() + '</td>' +
                     '</tr>'; // Tạo chuỗi HTML cho một hàng mới
    
        $('table tbody').append(newRow); // Chèn hàng mới vào bảng
        $('#myModal').modal('hide'); // Đóng modal
      });
    });
    
</script>
<body>
    <div class="container">
        <div class="img position-relative d-flex justify-content-center align-items-center border">
            <div class="display-4 text-primary position-absolute text-center">Tư Vấn Online</div>
        </div>
        <nav class="navbar navbar-expand-sm border">
            <ul class="navbar-nav">
                <li class="nav-item"><a href="#" class="nav-link p-2">Trang chủ</a></li>
                <li class="nav-item"><a href="#" class="nav-link p-2" id="btnModal">Đặt lịch</a></li>
            </ul>
        </nav>
        <table class="table border m-0 table-hover">
            <thead>
                <tr>
                    <th>STT</th>
                    <th>Mã bệnh nhân</th>
                    <th>Mật khẩu</th>
                    <th>Ngày Khám</th>
                    <th>Phụ thu dịch vụ</th>
                    <th>Chuyên khoa</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>BN-012345</td>
                    <td>123456a</td>
                    <td>12/8/2020</td>
                    <td>100000</td>
                    <td>Ngoại tổng quát</td>
                </tr>
            </tbody>
        </table>
        <div class="text-center border p-5" style="font-size: xx-large;">21090331 - LeHoangBao</div>
    </div>
    <div class="modal" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Đặt lịch khám online</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form action="" method="get">
                        <div class="form-group">
                            <label for="maBenhNhan">Mã bệnh nhân</label>
                            <input type="text" class="form-control" name="txtMa" id="maBenhNhan" placeholder="Ma benh nhan" required>
                        </div>
                        <div class="form-group">
                            <label for="matKhau">Mật khẩu</label>
                            <input type="text" class="form-control" name="txtMK" id="matKhau" placeholder="Mat khau" required>
                        </div>
                        <div class="form-group">
                            <label for="date">Ngày khám</label>
                            <input type="date" class="form-control" name="date" id="date" placeholder="mm/dd/yyyy" required>
                        </div>
                        <div class="form-check-inline">
                            <label for="form-check-label">
                                <input type="checkbox" name="" id="" class="form-check-input" value=""> Khám bệnh theo yêu cầu 
                            </label>
                        </div>
                        <div class="form-check-inline">
                            <label for="form-check-label">
                                <input type="checkbox" name="" id="" class="form-check-input" value=""> Điều trị ngoại trú 
                            </label>
                        </div>
                        <div class="form-check-inline">
                            <label for="form-check-label">
                                <input type="checkbox" name="" id="" class="form-check-input" value=""> Bác sĩ theo yêu cầu 
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="sel1">Chuyên khoa</label>
                            <select class="form-control" id="sel1">
                              <option>Ngoại tổng quát</option>
                              <option>2</option>
                              <option>3</option>
                              <option>4</option>
                            </select>
                        </div>
                        <button class="btn btn-info text-white p-2">Đặt lịch</button>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-info" data-dismiss="modal"> Close</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>